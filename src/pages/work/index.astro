---
import Layout from "@layouts/Layout.astro";
import Work from "@components/Work.astro";
import { EMPTY_DATA, getContent } from "@utils/index";

const contentAPI = import.meta.env.CONTENT_API;
const data = import.meta.env.DATA ?? EMPTY_DATA;
const environment = import.meta.env.ENVIRONMENT;

const { works } =
  environment === "dev" ? JSON.parse(data) : await getContent(contentAPI);
---

<Layout title="Professional Website" name="Luis">
  <Work works={works} />
</Layout>
